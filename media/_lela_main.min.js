(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],[,function(n,e,t){var r=t(4),i=t(5),a={injectType:"linkTag",insert:"head"};r(i=i.__esModule?i.default:i,a)},function(n,e,t){"use strict";t.r(e),t.d(e,"CONTEXT_HTML_WRAPPER",(function(){return L})),t.d(e,"COOKIE_DETECT_LANGUAGE_CHANGE",(function(){return m})),t.d(e,"start",(function(){return _})),t.d(e,"insertContextInString",(function(){return v}));var r=t(3),i=t.n(r);const a={true:"visible",false:"hidden"};function o(n,e){let t=g("#"+n);t&&function(n,e){n.innerHTML=e}(t,e)}function s(n){!function(n,e){let t=null;e&&(t=document.createElement("div"),t.classList.add(e),document.body.appendChild(t));(t||document.body).appendChild(document.createTextNode(n))}(n,"debug")}function u(n,e,t){void 0===e&&(e="none"===n.style.display||d(a[!1])),void 0===t&&(t=a[e]),n.classList.remove(a[!e]),n.classList.add(t)}function c(n,e){"string"==typeof n&&(n=g("#"+n)),n&&n.classList.add(e)}function d(n,e){return n&&n.classList.contains(e)}function g(n){return document.querySelector(n)}const l=/(\[.+\])/g;class f{get nameWithoutModifiers(){return this.nameWithoutLearnedAndKnownModifiers}get isClarification(){return 0===this.nameWithoutModifiers.indexOf("clarification")}get isIndication(){return 0===this.nameWithoutModifiers.indexOf("indication")}get isAboutLearned(){return this.isTagAboutLearned}get isAboutKnown(){return this.isBadgeAboutKnown}get isAboutBoth(){return this.isAboutLearned===this.isAboutKnown}get numPieces(){return Number(this.nameWithoutModifiers.replace(new RegExp("indication_([0-9])_pieces","g"),"$1"))}get shouldBeShownWithKnown(){return this.isAboutBoth||this.isIndication&&this.isAboutLearned||this.isClarification&&this.isAboutKnown}processName(){let n=this.name,e=this.name.replace(new RegExp("_learned$"),"");this.isTagAboutLearned=e!==n,this.nameWithoutLearnedAndKnownModifiers=e.replace(new RegExp("_known$"),""),this.isBadgeAboutKnown=this.nameWithoutLearnedAndKnownModifiers!==e}constructor(n){this.name=n,this.nameWithoutLearnedAndKnownModifiers="",this.isTagAboutLearned=!1,this.isBadgeAboutKnown=!1,this.processName()}}class h{constructor(n){this.isAKnownLearnedSide=g("#learned")&&g("#learned").classList.contains("hidden"),this.isFront=null===g("#frontOnBack"),this._cardData=n,this._knownLanguage="",this._learnedLanguage="",this._languageCombination="",this._originalTags=null,this.tags=null,this.processData()}get isAKnownLearnedCard(){return this.isAKnownLearnedSide}get isFrontSide(){return this.isFront}get knownLanguage(){return this._knownLanguage}get learnedLanguage(){return this._learnedLanguage}get languageCombination(){return this._languageCombination}get originalTags(){return this._originalTags}get known(){return this._cardData.known}get learned(){return this._cardData.learned}get promptText(){return this.isAKnownLearnedCard?this.known:this.learned}get promptID(){return this.isAKnownLearnedCard?"known":"learned"}get promptLanguage(){return this.isAKnownLearnedCard?this._knownLanguage:this._learnedLanguage}get answerLanguage(){return this.isAKnownLearnedCard?this._learnedLanguage:this._knownLanguage}static toTagsArray(n){return(n||"").split(" ").filter(n=>n.length>0)}processData(){this._originalTags=h.toTagsArray(this._cardData.tags),this.tags=this.addComputedTags(this._originalTags,this._cardData);let n=function(n){const e=(n=n?n.substr("language_".length):"").indexOf("-");let t={};return t.knownLanguage=n.substring(0,e),t.learnedLanguage=n.substring(e+1),t}(this.tags.find(n=>0===n.indexOf("language_")));this._knownLanguage=n.knownLanguage,this._learnedLanguage=n.learnedLanguage,this._languageCombination=this._knownLanguage+"-"+this._learnedLanguage}addComputedTags(n,e){return n.concat(function(n){return[t("_known",n),t("_learned",n)].filter(n=>n.length);function t(n,t){function r(e){return e.indexOf(n)===e.length-n.length||-1===e.indexOf(function(n){return"_known"===n?"_learned":"_known"}(n))}function i(n){return-1!==n.indexOf("_piece")}function a(n,e){return[n].concat(e.length?[n+e]:[])}let o=("_known"===n?e.knownWithoutContext:e.learnedWithoutContext).replace(/<br\s*\/?>/gi,"\n").split(/[\n,]/).filter(n=>n.length>0).length,s=t.intersect(a("indication_2_genders",n)).length>0?2:1;return s*=t.intersect(a("indication_singular_plural",n)).length>0?2:1,u=function(n){var e=n.filter(i).filter(r);return e.length?function(n){let e=n.substr("indication_".length);return e.substr(0,e.indexOf("_"))}(e[0]):0}(t),c=s,!u&&o>c?function(n,e){return n>5&&(n="5_plus"),"indication_"+n+"_pieces"+e}(o,n):"";var u,c}}(n))}}class p{constructor(n,e,t){this.known=n,this.learned=e,this.tags=t}stripContext(n){return n.replace(l,"").trim()}get knownWithoutContext(){return this.stripContext(this.known)}get learnedWithoutContext(){return this.stripContext(this.learned)}}!function(){function n(n,e){return function(){e.apply(n,arguments),s(Array.prototype.join.apply(arguments))}}console.warn=n(console,console.warn),console.exception=n(console,console.exception),window.onerror=function(n,e,t){return s("ERROR: "+n+" at line "+t+" in script "+e),!1}}(),Array.prototype.intersect||Object.defineProperties(Array.prototype,{intersect:{writable:!1,value:function(n){if(!Array.isArray(n))throw new TypeError("argument must be an array");return this.concat().filter((function(e){return-1!==n.indexOf(e)}))}}}),window.LELA_VERSION="0.2.1";const w=new MutationObserver((function(){g("#lelaFront")&&_()})),L='<span id="generatedContext" class="hidden">$1</span><a href="#" id="contextLink">(üëÅ)</a>',m="languageStats";function _(){let n=new p(g("#cardData_known").innerHTML,g("#cardData_learned").innerHTML,g("#cardData_tags").textContent),e=new h(n);!function(){let n=arguments;return function(e){for(let t=n.length-1;t>-1;t--)e=n[t].call(this,e);return e}}(y,k,x,A,T,C,b)(e)}function b(n){return n}function C(n){return n.isFrontSide&&(i.a.get(m)||i.a.set(m,{previousLanguageTag:"",languageCombinationJustChanged:!1},{expires:.5})),n}function x(n){let e=0;return n.tags.forEach((function(t){let r=new f(t),i=g("#badge_"+r.nameWithoutModifiers);if(i){if(!(d(i,a[!0])||d(i,a[!1]))){let t=!!r.isAboutBoth||(o=r.shouldBeShownWithKnown,n.isAKnownLearnedCard===o);t&&(u(i,t),e++,function(n){let e=null;for(let t=n.numPieces-1;t>0;t--)e=e||g("#previewMessage"),e.insertAdjacentHTML("afterend",e.cloneNode(!0).outerHTML)}(r))}}var o})),0===e&&function(n){let e=g("#"+n);e&&e.parentNode.removeChild(e)}("badges_table"),n}function A(n){return function(n){n.knownLanguage&&n.learnedLanguage&&(o("requestedLanguagePrompt",n.isAKnownLearnedSide?n.learnedLanguage:n.knownLanguage),o("learnedLanguage",n.learnedLanguage),o("knownLanguage",n.knownLanguage))}(n),function(n){let e=!1,t=i.a.getJSON(m);if(t){let r=t.previousLanguageTag!==n;e=r||t.languageCombinationJustChanged,t.languageCombinationJustChanged=r,i.a.set(m,t,{expires:.5})}return e}(n.languageCombination)&&g("#requestedLanguagePrompt").style.setProperty("color","var(--highlighted-language-prompt-color)"),n}function k(n){let e=i.a.getJSON(m);return e&&(e.previousLanguageTag=n.languageCombination,i.a.set(m,e,{expires:.5})),n}function v(n){return n.replace(l,L)}function y(n){function e(n){n.preventDefault(),u(g("#generatedContext"),!0),u(g("#contextLink"),!1)}return function(n){if(-1!=n.promptText.search(l)){let t=g("#"+n.promptID);t.innerHTML=v(t.innerHTML),g("#contextLink").addEventListener("click",e)}}(n),n}function T(n){if(n.promptLanguage){c("promptBox",n.promptLanguage),c(n.isAKnownLearnedCard?"knownLanguage":"learnedLanguage",n.promptLanguage)}if(n.answerLanguage){c("answerBox",n.answerLanguage),c("answerBoxPreview",n.answerLanguage),c(n.isAKnownLearnedCard?"learnedLanguage":"knownLanguage",n.answerLanguage)}return n}"complete"==document.readyState?setTimeout(_,0):document.body.onload=_,w.observe(document.querySelector("#qa"),{childList:!0})},function(n,e,t){var r,i;!function(a){if(void 0===(i="function"==typeof(r=a)?r.call(e,t,e,n):r)||(n.exports=i),!0,n.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function n(){for(var n=0,e={};n<arguments.length;n++){var t=arguments[n];for(var r in t)e[r]=t[r]}return e}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function i(){}function a(e,t,a){if("undefined"!=typeof document){"number"==typeof(a=n({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(t);/^[\{\[]/.test(o)&&(t=o)}catch(n){}t=r.write?r.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,!0!==a[u]&&(s+="="+a[u].split(";")[0]));return document.cookie=e+"="+t+s}}function o(n,t){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),u=s.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=e(s[0]);if(u=(r.read||r)(u,c)||e(u),t)try{u=JSON.parse(u)}catch(n){}if(i[c]=u,n===c)break}catch(n){}}return n?i[n]:i}}return i.set=a,i.get=function(n){return o(n,!1)},i.getJSON=function(n){return o(n,!0)},i.remove=function(e,t){a(e,"",n(t,{expires:-1}))},i.defaults={},i.withConverter=t,i}((function(){}))}))},function(n,e,t){"use strict";var r,i=(r={},function(n){if(void 0===r[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}r[n]=e}return r[n]});n.exports=function(n,e){if((e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},void 0===e.attributes.nonce){var r=t.nc;r&&(e.attributes.nonce=r)}var a=document.createElement("link");if(a.rel="stylesheet",a.href=n,Object.keys(e.attributes).forEach((function(n){a.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(a);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(a)}return function(n){"string"==typeof n?a.href=n:a.parentNode.removeChild(a)}}},function(n,e,t){"use strict";t.r(e),e.default=t.p+"_lela_style.css"}]]);